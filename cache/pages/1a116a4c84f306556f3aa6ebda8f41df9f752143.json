{
  "url": "https://stackoverflow.com/questions/53472069/how-to-display-the-last-4-digit-of-numbers-and-replace-the-rest-of-the-number-wi",
  "title": "mysql - How to Display The last 4 digit of numbers and replace the rest of the number with XXXXXXXXX's - Stack Overflow",
  "text": "How to displays the last four digits of the Numbers in this format: XXXX-XXXX-XXXX-1234. In other words, use Xs for the first 12 digits of the card number and actual numbers for the last four digits of the number. Thank YOu - 1The question seems to start in the middle of a sentence. Please write more clearly. Also see How to Ask for the way to ask a good question.Barmar– Barmar2018-11-25 21:23:32 +00:00Commented Nov 25, 2018 at 21:23 - Does it have to work for 15-digit AMEX payment card numbers too?O. Jones– O. Jones2018-11-25 21:25:04 +00:00Commented Nov 25, 2018 at 21:25 - 1Recommend avoiding storing credit number, or store them as the masked value.danblack– danblack2018-11-25 22:02:32 +00:00Commented Nov 25, 2018 at 22:02 1 Answer I wrote a function that you can use to make this job: you can pass to this function any number, the function calculates the modulo 10000 class of the number (i.e. the rest of the division by 10000) in other words the last four digits of your number. Then the function concatenates XXXX-XXXX-XXXX- and zeros as needed. DELIMITER $$ CREATE FUNCTION N_CREDIT_CARD (NUMBER INT) RETURNS VARCHAR(19) DETERMINISTIC BEGIN DECLARE NUM INT; SET NUM=NUMBER%10000; RETURN (CASE WHEN NUM < 10 THEN CONCAT('XXXX-XXXX-XXXX-000', CAST(NUM AS CHAR(1))) WHEN NUM < 100 THEN CONCAT('XXXX-XXXX-XXXX-00', CAST(NUM AS CHAR(2))) WHEN NUM < 1000 THEN CONCAT('XXXX-XXXX-XXXX-0', CAST(NUM AS CHAR(3))) ELSE CONCAT('XXXX-XXXX-XXXX-',CAST(NUM AS CHAR(4))) END); END$$ DELIMITER;"
}